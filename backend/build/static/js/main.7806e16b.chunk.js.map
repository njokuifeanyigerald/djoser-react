{"version":3,"sources":["containers/Home.js","containers/Activate.js","actions/types.js","containers/Login.js","actions/auth.js","containers/ResetPassword.js","containers/ResetPasswordConfirm.js","containers/Signup.js","components/Navbar.js","hocs/Layout.js","reducers/auth.js","reducers/index.js","store.js","App.js","index.js"],"names":["Home","Activate","LOGIN_SUCCESS","LOGIN_FAIL","USER_LOADED_SUCCESS","USER_LOADED_FAIL","connect","login","email","password","dispatch","a","config","headers","body","JSON","stringify","axios","post","res","type","payload","data","localStorage","getItem","get","useState","formData","setFormData","onChange","e","target","name","value","className","onSubmit","preventDefault","placeholder","minLength","required","to","ResetPassword","props","ResetPasswordConfirm","Signup","Navbar","Layout","children","initialState","access","refresh","isAuthenticated","user","combineReducers","auth","state","action","setItem","removeItem","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","App","exact","path","component","Login","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7806e16b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Home =() => (\r\n    <div>\r\n        \r\n        Home\r\n    </div>\r\n)\r\nexport default Home;","import React from 'react';\r\n\r\nconst Activate =() => (\r\n    <div>\r\n        Activate\r\n    </div>\r\n)\r\n\r\nexport default Activate;","export const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\r\nexport const USER_LOADED_SUCCESS = 'LOAD_USER_SUCCESS';\r\nexport const USER_LOADED_FAIL = 'LOAD_USER_FAIL';","import React, { useState } from 'react';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {login} from '../actions/auth';\r\n\r\n\r\nconst Login =({login}) => {\r\n    const [formData, setFormData] = useState({\r\n        email: '',\r\n        password: ''\r\n    })\r\n    const {email,password} = formData;\r\n\r\n    const onChange = e => setFormData({...formData, [e.target.name]: e.target.value})\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n        login(email,password)\r\n    }\r\n\r\n    // Is the user authenticated?\r\n    // Redirect them to the home page\r\n\r\n    return (\r\n        <div className='container mt-5'>\r\n            <h1>Login</h1>\r\n            <p>Sign into your Account</p>\r\n            <form onSubmit={e => onSubmit(e)}>\r\n                <div className=\"form-group\">\r\n                    <input className=\"form-control\" type=\"email\"\r\n                        placeholder=\"Email\" name=\"email\" value={email}\r\n                        onChange={e => onChange(e)} minLength='8'\r\n                        required />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input className=\"form-control\" type=\"password\"\r\n                        placeholder=\"Password\" name=\"password\" value={password} \r\n                        onChange={e => onChange(e)}  minLength='8'\r\n                        required />\r\n                </div>\r\n                <button className=\"btn btn-outline-primary\" type=\"submit\">Login</button>\r\n            </form>\r\n            <p className=\"mt-3\" >\r\n                Forgot your account? <Link to='/signup'> Sign Up</Link>\r\n            </p>\r\n            <p className=\"mt-3\" >\r\n                Forgot your Password? <Link to='/reset_password'> Reset Password</Link>\r\n            </p>\r\n        </div>\r\n    );\r\n    \r\n};\r\n\r\n// const mapStateToProps = state => {\r\n//     // is authenticated\r\n// }\r\n\r\nexport default connect(null, {login})(Login);","import {\r\n    LOGIN_SUCCESS,USER_LOADED_FAIL,USER_LOADED_SUCCESS,LOGIN_FAIL\r\n} from '../actions/types';\r\nimport axios from 'axios'\r\n\r\n\r\nexport const load_user = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n                'Accept': 'application/json'\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get('/auth/users/me/', config);\r\n\r\n            dispatch({\r\n                type: USER_LOADED_SUCCESS,\r\n                payload: res.data\r\n            });\r\n        } catch (err) {\r\n            dispatch({\r\n                type: USER_LOADED_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: USER_LOADED_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n\r\n\r\n// export const load_user = () => async dispatch => {\r\n//     if(localStorage.getItem('access')){\r\n//         const config = {\r\n//             headers: {\r\n//                 'Content-Type': 'application/json',\r\n//                 'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n//                 'Accept': 'application/json'\r\n//             }\r\n//         };\r\n//         try {\r\n//             const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/users/me/`,config)\r\n//             dispatch({\r\n//                 type:USER_LOADED_SUCCESS,\r\n//                 payload: res.data\r\n//             })\r\n//         } catch (error) {\r\n//             dispatch({\r\n//                 type:USER_LOADED_FAIL\r\n//             })\r\n//         }\r\n//     } else {\r\n//         dispatch({\r\n//             type:USER_LOADED_FAIL\r\n//         })\r\n//     }\r\n\r\n    \r\n// };\r\n\r\n\r\nexport const login = (email, password) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    const body = JSON.stringify({ email, password });\r\n\r\n    try {\r\n        const res = await axios.post('/auth/jwt/create/', body, config);\r\n\r\n        dispatch({\r\n            type: LOGIN_SUCCESS,\r\n            payload: res.data\r\n        });\r\n\r\n        dispatch(load_user());\r\n    } catch (err) {\r\n        dispatch({\r\n            type: LOGIN_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n\r\n// export const login = (email,password) => async dispatch => {\r\n//     const config = {\r\n//         headers: {\r\n//             'Content-Type': 'application/json'\r\n//         }\r\n//     }\r\n//     const body = JSON.stringify({email, password});\r\n\r\n//     try {\r\n//         const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/jwt/create/`, body, config)\r\n//         dispatch({\r\n//             type:LOGIN_SUCCESS,\r\n//             payload: res.data\r\n//         });\r\n\r\n//         dispatch(load_user());\r\n//     }catch (error) {\r\n//         dispatch({\r\n//             type:LOGIN_FAIL\r\n//         })\r\n//     }\r\n// };\r\n\r\n","import React from 'react';\r\n\r\n\r\nconst ResetPassword =(props) => (\r\n    <div>\r\n        Reset password\r\n    </div>\r\n)\r\nexport default ResetPassword;","import React from 'react';\r\n\r\nconst ResetPasswordConfirm =(props) => (\r\n    <div>\r\n        reset password confirm\r\n    </div>\r\n)\r\nexport default ResetPasswordConfirm;","import React from 'react';\r\n\r\nconst Signup =(props) => (\r\n    <div>\r\n        Signup\r\n    </div>\r\n)\r\n\r\nexport default Signup;","import React from 'react';\r\n\r\nconst Navbar =(props) => (\r\n    <div>\r\n        Navbar\r\n    </div>\r\n)\r\nexport default Navbar;","import React from 'react';\r\nimport Navbar from '../components/Navbar'\r\n\r\nconst Layout =(props) => (\r\n    <div>\r\n        <Navbar />\r\n        {props.children}\r\n    </div>\r\n)\r\nexport default Layout;","import {\r\n    LOGIN_SUCCESS,USER_LOADED_FAIL,\r\n    USER_LOADED_SUCCESS,LOGIN_FAIL\r\n} from '../actions/types';\r\n\r\nconst initialState =  {\r\n    access: localStorage.getItem('access'),\r\n    refresh: localStorage.getItem('refresh'),\r\n    isAuthenticated: null,\r\n    user: null\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    const {type, payload}  = action;\r\n    switch(type){\r\n        // case LOGIN_SUCCESS:\r\n        //     localStorage.setItem('access', payload.access)\r\n        //     return{\r\n        //         ...state,\r\n        //         isAuthenticated: true,\r\n        //         access: payload.access,\r\n        //         refresh: payload.refresh\r\n        //     }\r\n        case LOGIN_SUCCESS:\r\n            localStorage.setItem('access', payload.access);\r\n            return {\r\n                ...state,\r\n                isAuthenticated: true,\r\n                access: payload.access,\r\n                refresh: payload.refresh\r\n            }\r\n        case USER_LOADED_SUCCESS:\r\n            return{\r\n                ...state,\r\n                user:payload\r\n            }\r\n        case USER_LOADED_FAIL:\r\n            return {\r\n                ...state,\r\n                user:null\r\n            }\r\n        case LOGIN_FAIL:\r\n            localStorage.removeItem('access');\r\n            localStorage.removeItem('refresh');\r\n            return {\r\n                ...state,\r\n                access: null,\r\n                refresh: null,\r\n                isAuthenticated: false,\r\n                user: null\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}","import {combineReducers} from 'redux';\r\nimport auth from './auth'\r\n\r\nexport default combineReducers({\r\n    auth\r\n})","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    initialState,\r\n    composeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n\r\n","import React from 'react'\nimport {BrowserRouter as Router , Route, Switch} from 'react-router-dom';\n\nimport Home from './containers/Home';\nimport Activate from './containers/Activate';\nimport Login from './containers/Login';\nimport ResetPassword from './containers/ResetPassword';\nimport ResetPasswordConfirm from './containers/ResetPasswordConfirm';\nimport Signup from './containers/Signup';\nimport Layout from './hocs/Layout';\nimport {Provider} from 'react-redux';\nimport store from './store'\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Router>\n        <Layout>\n          <Switch>\n            <Route exact path='/' component={Home}/>\n            <Route exact path='/login' component={Login}/>\n            <Route exact path='/signup' component={Signup}/>\n            <Route exact path='/reset_password' component={ResetPassword}/>\n            <Route exact path='/password/reset/confirm/:uid/:token' component={ResetPasswordConfirm}/>\n            <Route exact path='/activate/:uid/:token' component={Activate}/>\n          </Switch>\n        </Layout>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}